extends ../layout/page.pug

//- Display a link with chosen state.
mixin switch(text, href, chosen)
  if chosen
    span.current #{text}
  else
    a(href=href) #{text}

mixin items(filter)
  ul
    each type in types
      if type.component == filter
        li
          h3
            a(href=`api/${type.id}.html`) #{type.name}
          != ' ' + imarkdown(type.description)

block content
  h1 Docs Index
  #index
    .column
      h2 Guides

    .column
      h2 Components
      +items('gui')

    .column
      h2 Structures
      +items()

block sidebar
  h4 Langauge:
  .lang-switcher
    +switch('C++', `../cpp/index.html`, lang == 'cpp',
            !doc.lang || doc.lang.includes('cpp'))
    |  | 
    +switch('Lua', `../lua/index.html`, lang == 'lua',
            !doc.lang || doc.lang.includes('lua'))
    |  | 
    +switch('JavaScript', `../js/index.html`, lang == 'js',
            !doc.lang || doc.lang.includes('js'))
